{"version":3,"sources":["NumberFormatCustom.js","index.js"],"names":["NumberFormatCustom","React","props","ref","onChange","other","Object","objectWithoutProperties","react","react_number_format_es","assign","getInputRef","onValueChange","values","target","name","value","thousandSeparator","prefix","displayType","decimalScale","App","_useState","useState","_useState2","slicedToArray","amount","setAmount","_useState3","_useState4","targetSplits","setTargetSplits","_useState5","_useState6","currentSplits","setCurrentSplits","_useState7","_useState8","totalPercent","setTotalPercent","_useState9","_useState10","currentTotal","setCurrentTotal","useEffect","reduce","acc","c","Number","onSplitPercentChanges","useCallback","id","e","newtargetSplits","toConsumableArray","onTargetSplitValueChanges","onCurrentSplitValueChanges","handleAddtargetSplits","olstargetSplits","concat","handleRemovetargetSplits","idx","splice","handleAmountChange","react_default","a","createElement","className","Box","sx","& > :not(style)","m","TextField","label","InputProps","inputComponent","variant","FormControl","fullWidth","InputLabel","htmlFor","OutlinedInput","size","disabled","endAdornment","InputAdornment","position","error","map","split","i","splitInAmt","targetAmountFromTotalCurrent","key","toFixed","startAdornment","IconButton","color","onClick","Icon","fontSize","red","aria-label","green","rootElement","document","getElementById","ReactDOM","render"],"mappings":"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","file":"static/js/main.f84b97dc.chunk.js","sourcesContent":["import * as React from \"react\";\nimport NumberFormat from \"react-number-format\";\n\nconst NumberFormatCustom = React.forwardRef(function NumberFormatCustom(\n  props,\n  ref\n) {\n  const { onChange, ...other } = props;\n\n  return (\n    <NumberFormat\n      {...other}\n      getInputRef={ref}\n      onValueChange={(values) => {\n        onChange({\n          target: {\n            name: props.name,\n            value: values.value\n          }\n        });\n      }}\n      thousandSeparator\n      prefix=\"Â£\"\n      displayType={\"number\"}\n      decimalScale={2}\n    />\n  );\n});\n\nexport default NumberFormatCustom;\n","import React, { useCallback, useEffect, useState } from \"react\";\nimport ReactDOM from \"react-dom\";\nimport IconButton from \"@mui/material/IconButton\";\nimport FormControl from \"@mui/material/FormControl\";\nimport InputLabel from \"@mui/material/InputLabel\";\nimport OutlinedInput from \"@mui/material/OutlinedInput\";\nimport InputAdornment from \"@mui/material/InputAdornment\";\nimport TextField from \"@mui/material/TextField\";\nimport { green, red } from \"@mui/material/colors\";\nimport Icon from \"@mui/material/Icon\";\nimport \"./styles.css\";\nimport { Box } from \"@mui/material\";\nimport NumberFormatCustom from \"./NumberFormatCustom\";\n\nfunction App() {\n  const [amount, setAmount] = useState(10000);\n  const [targetSplits, setTargetSplits] = useState([20, 30, 50]);\n  const [currentSplits, setCurrentSplits] = useState([2500, 2500, 10000]);\n  const [totalPercent, setTotalPercent] = useState(0);\n  const [currentTotal, setCurrentTotal] = useState(0);\n  useEffect(\n    () => setTotalPercent(targetSplits.reduce((acc, c) => acc + Number(c), 0)),\n    [targetSplits]\n  );\n  useEffect(\n    () => setCurrentTotal(currentSplits.reduce((acc, c) => acc + Number(c), 0)),\n    [currentSplits]\n  );\n  const onSplitPercentChanges = useCallback(\n    (id) => (e) => {\n      const newtargetSplits = [...targetSplits];\n      newtargetSplits[id] = Number(e.target.value);\n      setTargetSplits(newtargetSplits);\n    },\n    [targetSplits]\n  );\n  const onTargetSplitValueChanges = useCallback(\n    (id) => (e) => {\n      if (amount > 0) {\n        const { value } = e.target;\n        const newtargetSplits = [...targetSplits];\n        newtargetSplits[id] = Number((value * 100) / amount);\n        setTargetSplits(newtargetSplits);\n      }\n    },\n    [targetSplits, amount]\n  );\n  const onCurrentSplitValueChanges = useCallback(\n    (id) => (e) => {\n      const { value } = e.target;\n      const newtargetSplits = [...currentSplits];\n      newtargetSplits[id] = value;\n      setCurrentSplits(newtargetSplits);\n    },\n    [currentSplits]\n  );\n  const handleAddtargetSplits = useCallback(() => {\n    setTargetSplits((olstargetSplits) => [...olstargetSplits, 0]);\n  }, []);\n\n  const handleRemovetargetSplits = useCallback((idx) => {\n    setTargetSplits((olstargetSplits) => {\n      olstargetSplits.splice(idx, 1);\n      return [...olstargetSplits];\n    });\n  }, []);\n  const handleAmountChange = useCallback(\n    (e) => setAmount(Number(e.target.value)),\n    []\n  );\n  return (\n    <div className=\"App\">\n      <h1>Portfolio Rebalance Calculator</h1>\n      <Box\n        className=\"split-section\"\n        sx={{\n          \"& > :not(style)\": {\n            m: 1\n          }\n        }}\n      >\n        <TextField\n          label=\"Amount\"\n          value={amount}\n          onChange={handleAmountChange}\n          name=\"numberformat\"\n          id=\"formatted-numberformat-input\"\n          InputProps={{\n            inputComponent: NumberFormatCustom\n          }}\n          variant=\"standard\"\n        />\n      </Box>\n      <Box\n        className=\"split-section\"\n        sx={{\n          \"& > :not(style)\": {\n            m: 1\n          }\n        }}\n      >\n        <FormControl fullWidth sx={{ m: 1 }}>\n          <InputLabel htmlFor=\"total\">Total</InputLabel>\n          <OutlinedInput\n            id=\"total\"\n            size=\"small\"\n            disabled\n            value={totalPercent}\n            endAdornment={<InputAdornment position=\"end\">%</InputAdornment>}\n            label=\"Total\"\n            error={totalPercent > 100}\n          />\n        </FormControl>\n        <FormControl fullWidth sx={{ m: 1 }}>\n          <InputLabel htmlFor=\"Total(Â£)\">Total(Â£)</InputLabel>\n          <OutlinedInput\n            size=\"small\"\n            id=\"Total(Â£)\"\n            label=\"Total(Â£)\"\n            disabled\n            value={(amount * totalPercent) / 100}\n            name=\"numberformat\"\n            inputComponent={NumberFormatCustom}\n            variant=\"standard\"\n          />\n        </FormControl>\n        <FormControl fullWidth sx={{ m: 1 }}>\n          <InputLabel htmlFor=\"balance\">Current Total</InputLabel>\n          <OutlinedInput\n            size=\"small\"\n            id=\"balance\"\n            label=\"Current Total\"\n            disabled\n            value={currentTotal}\n            name=\"numberformat\"\n            inputComponent={NumberFormatCustom}\n            variant=\"standard\"\n          />\n        </FormControl>\n      </Box>\n      {targetSplits.map((split, i) => {\n        const splitInAmt = Number((amount * split) / 100);\n        const targetAmountFromTotalCurrent = (currentTotal * split) / 100;\n        return (\n          <Box\n            key={i}\n            className=\"split-section\"\n            sx={{\n              \"& > :not(style)\": {\n                m: 1\n              }\n            }}\n          >\n            <FormControl fullWidth sx={{ m: 1 }}>\n              <InputLabel htmlFor=\"outlined-adornment-amount\">\n                {`Stock-${i + 1}`}\n              </InputLabel>\n              <OutlinedInput\n                size=\"small\"\n                id=\"outlined-adornment-amount\"\n                value={split.toFixed(0)}\n                onChange={onSplitPercentChanges(i)}\n                endAdornment={<InputAdornment position=\"end\">%</InputAdornment>}\n                label={`Stock-${i + 1}`}\n                error={totalPercent > 100}\n              />\n            </FormControl>\n\n            <FormControl fullWidth sx={{ m: 1 }}>\n              <InputLabel htmlFor={`amount${i}`}>Â£</InputLabel>\n              <OutlinedInput\n                size=\"small\"\n                id={`amount${i}`}\n                label=\"Â£\"\n                value={splitInAmt}\n                name=\"numberformat\"\n                inputComponent={NumberFormatCustom}\n                variant=\"standard\"\n                onChange={onTargetSplitValueChanges(i)}\n              />\n            </FormControl>\n            <FormControl fullWidth sx={{ m: 1 }}>\n              <InputLabel htmlFor={`currntAmount${i}`}>CurrentÂ£</InputLabel>\n              <OutlinedInput\n                size=\"small\"\n                id={`currntAmount${i}`}\n                label=\"CurrentÂ£\"\n                value={Number(currentSplits[i])}\n                name=\"numberformat\"\n                inputComponent={NumberFormatCustom}\n                variant=\"standard\"\n                onChange={onCurrentSplitValueChanges(i)}\n              />\n            </FormControl>\n            <FormControl fullWidth sx={{ m: 1 }}>\n              <InputLabel htmlFor={`currentPercent${i}`}>Current%</InputLabel>\n              <OutlinedInput\n                size=\"small\"\n                disabled\n                id={`currentPercent${i}`}\n                label=\"Current%\"\n                value={Number(\n                  currentSplits[i]\n                    ? Number((currentSplits[i] * 100) / currentTotal)\n                    : 0\n                ).toFixed(0)}\n                endAdornment={<InputAdornment position=\"end\">%</InputAdornment>}\n              />\n            </FormControl>\n\n            <FormControl fullWidth sx={{ m: 1 }}>\n              <InputLabel htmlFor={`rebalanceAmount${i}`}>Rebalance</InputLabel>\n              <OutlinedInput\n                size=\"small\"\n                disabled\n                id={`rebalanceAmount${i}`}\n                label=\"Rebalance\"\n                value={Number(\n                  targetAmountFromTotalCurrent -\n                    (currentSplits[i] ? Number(currentSplits[i]) : 0)\n                ).toFixed(0)}\n                startAdornment={\n                  <InputAdornment position=\"start\">Â£</InputAdornment>\n                }\n              />\n            </FormControl>\n\n            <IconButton\n              color=\"secondary\"\n              onClick={() => handleRemovetargetSplits(i)}\n            >\n              <Icon fontSize=\"small\" sx={{ color: red[500] }}>\n                remove_circle\n              </Icon>\n            </IconButton>\n          </Box>\n        );\n      })}\n\n      <IconButton\n        color=\"primary\"\n        aria-label=\"add to shopping cart\"\n        onClick={handleAddtargetSplits}\n      >\n        <Icon sx={{ color: green[500] }}>add_circle</Icon>\n      </IconButton>\n    </div>\n  );\n}\n\nconst rootElement = document.getElementById(\"root\");\nReactDOM.render(<App />, rootElement);\n"],"sourceRoot":""}